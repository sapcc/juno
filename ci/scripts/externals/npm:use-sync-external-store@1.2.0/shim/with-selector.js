import*as e from"react";import*as r from"use-sync-external-store/shim";var t="default"in e?e.default:e;var u="default"in r?r.default:r;var n={};var l=t,i=u;function p(e,r){return e===r&&(0!==e||1/e===1/r)||e!==e&&r!==r}var o="function"===typeof Object.is?Object.is:p,f=i.useSyncExternalStore,c=l.useRef,s=l.useEffect,v=l.useMemo,d=l.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,r,t,u,n){var l=c(null);if(null===l.current){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=v((function(){function a(r){if(!f){f=!0;e=r;r=u(r);if(void 0!==n&&i.hasValue){var t=i.value;if(n(t,r))return l=t}return l=r}t=l;if(o(e,r))return t;var c=u(r);if(void 0!==n&&n(t,c))return t;e=r;return l=c}var e,l,f=!1,c=void 0===t?null:t;return[function(){return a(r())},null===c?void 0:function(){return a(c())}]}),[r,t,u,n]);var S=f(e,l[0],l[1]);s((function(){i.hasValue=!0;i.value=S}),[S]);d(S);return S};const S=n.useSyncExternalStoreWithSelector;export{n as default,S as useSyncExternalStoreWithSelector};

//# sourceMappingURL=with-selector.js.map