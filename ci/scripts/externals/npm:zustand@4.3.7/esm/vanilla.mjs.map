{"version":3,"file":"vanilla.mjs","sources":["../esm/vanilla.mjs"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n"],"names":["createStoreImpl","createState","state","listeners","Set","setState","partial","replace","nextState","Object","is","previousState","assign","forEach","listener","getState","subscribe","add","delete","destroy","import","meta","env","MODE","console","warn","clear","api","createStore","vanilla"],"mappings":"AAAA,MAAMA,gBAAmBC,IACvB,IAAIC,EACJ,MAAMC,EAA4B,IAAIC,IACtC,MAAMC,SAAW,CAACC,EAASC,KACzB,MAAMC,EAA+B,oBAAZF,EAAyBA,EAAQJ,GAASI,EACnE,IAAKG,OAAOC,GAAGF,EAAWN,GAAQ,CAChC,MAAMS,EAAgBT,EACtBA,GAAoB,MAAXK,EAAkBA,EAA+B,kBAAdC,GAA0BA,EAAYC,OAAOG,OAAO,GAAIV,EAAOM,GAC3GL,EAAUU,SAASC,GAAaA,EAASZ,EAAOS,OAGpD,MAAMI,SAAW,IAAMb,EACvB,MAAMc,UAAaF,IACjBX,EAAUc,IAAIH,GACd,MAAO,IAAMX,EAAUe,OAAOJ,IAEhC,MAAMK,QAAU,KACoC,gBAA7CC,OAAOC,KAAKC,KAAOF,OAAOC,KAAKC,IAAIC,OACtCC,QAAQC,KACN,0MAGJtB,EAAUuB,SAEZ,MAAMC,EAAM,CAAEtB,SAAAA,SAAUU,SAAAA,SAAUC,UAAAA,UAAWG,QAAAA,SAC7CjB,EAAQD,EAAYI,SAAUU,SAAUY,GACxC,OAAOA,GAEJ,MAACC,YAAe3B,GAAgBA,EAAcD,gBAAgBC,GAAeD,gBAC/E,IAAC6B,QAAW5B,IACqC,gBAA7CmB,OAAOC,KAAKC,KAAOF,OAAOC,KAAKC,IAAIC,OACtCC,QAAQC,KACN,yGAGJ,OAAOG,YAAY3B"}