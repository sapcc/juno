{"version":3,"file":"index.mjs","sources":["../esm/index.mjs"],"sourcesContent":["import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStore(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n"],"names":["useSyncExternalStoreWithSelector","useSyncExternalStoreExports","useStore","api","selector","getState","equalityFn","slice","subscribe","getServerState","useDebugValue","createImpl","createState","import","meta","env","MODE","console","warn","createStore","useBoundStore","Object","assign","create","react"],"mappings":"8KAKA,MAAMA,iCAAEA,GAAqCC,EAC7C,SAASC,SAASC,EAAKC,EAAWD,EAAIE,SAAUC,GAC9C,MAAMC,EAAQP,EACZG,EAAIK,UACJL,EAAIE,SACJF,EAAIM,gBAAkBN,EAAIE,SAC1BD,EACAE,GAEFI,EAAcH,GACd,OAAOA,EAET,MAAMI,WAAcC,IACgC,gBAA7CC,OAAOC,KAAKC,KAAOF,OAAOC,KAAKC,IAAIC,OAAiD,oBAAhBJ,GACvEK,QAAQC,KACN,mIAGJ,MAAMf,EAA6B,oBAAhBS,EAA6BO,EAAYP,GAAeA,EAC3E,MAAMQ,cAAgB,CAAChB,EAAUE,IAAeJ,SAASC,EAAKC,EAAUE,GACxEe,OAAOC,OAAOF,cAAejB,GAC7B,OAAOiB,eAEJ,MAACG,OAAUX,GAAgBA,EAAcD,WAAWC,GAAeD,WACrE,IAACa,MAASZ,IACuC,gBAA7CC,OAAOC,KAAKC,KAAOF,OAAOC,KAAKC,IAAIC,OACtCC,QAAQC,KACN,8FAGJ,OAAOK,OAAOX"}